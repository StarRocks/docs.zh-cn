# 如何编写函数文档

如果您需要贡献函数文档，请提前阅读并遵循本文的注意事项、编写流程和文档模版。

## 注意事项

1. 语言。至少选择中英文一种语言，欢迎提供中英双语版本。
2. 内容清晰。如果文字说明部分需要引用语法和示例中的内容，则建议使用代码块格式。 

## 编写流程

1. **编写阶段。**按照如下文档模板，编写函数文档（markdown格式），并在索引（TOC.md）中添加索引。

    > - 由于文档为markdown格式，建议您提前使用markdown-lint验证格式的规范性。
    > - 添加索引时，请注意函数分类。

2. **提交阶段。**在github上提交函数文档，中文文档提交至[中文文档仓库](https://github.com/StarRocks/docs.zh-cn)，英文文档提交至[英文文档仓库](https://github.com/StarRocks/docs)。

3. **评审阶段。**

   评审阶段分为自动检查和人工评审。

   1. 自动检查：提交人是否已经签署CLA，提交文档是否符合markdown语法。
   2. 人工评审：Commiter会阅读并沟通文档内容。最终合入至StarRocks文档仓库，并更新官网。

## convert_tz

### 功能

将给定的时间转化为另一个时区的时间。

> *函数功能。*

### 语法

```sql
CONVERT_TZ(dt, from_tz, to_tz)
```

> *函数语法。*

#### 参数说明

- `dt` ：需要转化的时间。支持的数据类型为DATETIME。
- `from_tz` ：源时区名称。支持的数据类型为VARCHAR。时区可以使用两种格式：时区信息数据库（Time Zone Database，比如Asia/Shanghai），或UTC偏移量（例如+08:00）。
- `to_tz`：目标时区名称。支持的数据类型为VARCHAR。格式同参数`from_tz`。

> - *格式为`参数`：描述+数据类型（请列出所支持的全部数据类型）。*
> - *描述部分包括参数的含义、是否必选、取值格式、不同数据类型下的取值和单位差异等。*
> - *数据类型需要大写。*

### 返回值说明

返回值的数据类型为DATETIME。

> - *数据类型需要大写。*
> - *如有必要，可以适当补充特殊说明，例如：*
>   - *如果输入值支持不同数据类型，当输入值为不同数据类型时，对应返回值的数据类型或格式。*
>   - *如果输入值不满足数据类型的要求，则其返回结果是什么，比如NULL，报错。*

### 注意事项 （可选）

各时区对应的时区信息数据库，请参见[时区数据库](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)（来源：维基百科）。

> *使用该函数时的注意事项（可选）。*

### 示例

示例一：将上海时间转化为洛杉矶时间。

```Plain%20Text
MySQL > select convert_tz('2019-08-01 13:21:03', 'Asia/Shanghai', 'America/Los_Angeles');
        -> 2019-07-31 22:21:03                                                       |
```

示例二：将东八区时间转化为洛杉矶时间。

```Plain%20Text
MySQL > select convert_tz('2019-08-01 13:21:03', '+08:00', 'America/Los_Angeles');

+--------------------------------------------------------------------+

| convert_tz('2019-08-01 13:21:03', '+08:00', 'America/Los_Angeles') |

+--------------------------------------------------------------------+

| 2019-07-31 22:21:03                                                |

+--------------------------------------------------------------------+
```

> - *需要说明各个示例的作用。*
> - *如果一个示例中包含多个应用场景，可在示例中加上注解，便于用户快速区分场景。*
> - *示例的返回结果如果较简单，则建议采用示例一的展现形式；如果较复杂，则建议采用示例二的展现形式。*