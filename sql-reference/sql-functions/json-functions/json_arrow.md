# JSON 箭头语法

## 功能

使用箭头语法查询 JSON 对象中的某个字段，相对于 JSON_QUERY 函数更容易使用。

## 语法

- `json_object -> 'json_path'`

## 参数说明

- `json_object`: 查询的 JSON 对象，包括 JSON 列、`PARSE_JSON(...)` 产生的 JSON 对象、以及其他 JSON 函数产生的 JSON 对象。

## 返回值说明

- 返回 JSON 类型
- 如果查询的字段不存在，返回 NULL，否则返回查询出的 JSON，其值类型可以是 Object/Array/Number/String/Boolean/Null。
- 如果需要进一步对返回值进行计算，可通过 `CAST` 将其转换为 SQL 类型。

## 注意事项

Starrocks 支持的 JSON Path 的语法请参考 [JSON Path 语法](./json_path.md)。

箭头语法中允许省略 JSON Path 的前缀 `$`。

## 示例

```sql

-- 查询JSON对象中的 $.a.b 字段，返回 JSON类型的 1
mysql> select parse_json('{"a": {"b": 1}}') -> '$.a.b';
+----------------------------------------+
| parse_json('{"a": {"b": 1}}')->'$.a.b' |
+----------------------------------------+
| 1                                      |
+----------------------------------------+

-- 省略前缀 $, 直接查询某个字段
mysql> select parse_json('{"a": "b"}') -> 'a';
+-------------------------------+
| parse_json('{"a": "b"}')->'a' |
+-------------------------------+
| "b"                           |
+-------------------------------+

-- 查询 JSON 函数产生的中间结果
mysql> select parse_json('{"a": {"b": 1}}')->'a'->'b';
+-----------------------------------------+
| parse_json('{"a": {"b": 1}}')->'a'->'b' |
+-----------------------------------------+
| 1                                       |
+-----------------------------------------+

-- 查询数组元素
mysql> select parse_json('{"a": ["b", "c"]}') -> 'a[1]';
+-----------------------------------------+
| parse_json('{"a": ["b", "c"]}')->'a[1]' |
+-----------------------------------------+
| "c"                                     |
+-----------------------------------------+

```
